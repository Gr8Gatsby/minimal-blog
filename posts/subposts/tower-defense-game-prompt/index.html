<h1><strong>Project Prompt: Platform-Specific Tower Defense Game as a PWA</strong></h1>
<h2><strong>Objective</strong></h2>
<p>Build a modular, extensible Tower Defense game as a Progressive Web Application (PWA) using modern JavaScript (ES6+), HTML5, and CSS. The project will feature rich gameplay mechanics, flexible defense systems, and platform-specific maps optimized for mobile and desktop players. Each platform will provide unique map experiences, effectively creating two versions of the game while maintaining a shared core.</p>
<hr>
<h2><strong>Platform-Specific Map Considerations</strong></h2>
<h3><strong>1. Mobile-Friendly Maps</strong></h3>
<ul>
<li>Smaller grid sizes: <strong>10x10 to 15x15</strong>.</li>
<li>Compact layouts to reduce scrolling and fit smaller screens.</li>
<li>Shorter paths and fewer spawn points for quick gameplay sessions.</li>
<li>Optimized UI for touch interactions (e.g., larger buttons and easier drag/drop for placing defenses).</li>
<li>Lower performance overhead for less powerful devices.</li>
</ul>
<h3><strong>2. Desktop-Friendly Maps</strong></h3>
<ul>
<li>Larger grid sizes: <strong>20x20 to 30x30</strong>.</li>
<li>Expansive layouts with more paths and complex strategies.</li>
<li>Longer play sessions with greater enemy waves and defenses to manage.</li>
<li>Enhanced visuals to leverage desktop capabilities.</li>
<li>Full-screen UI with keyboard/mouse support for precision.</li>
</ul>
<hr>
<h2><strong>Dynamic Map Switching</strong></h2>
<p>The game will detect the player’s platform and load the appropriate version of the map:</p>
<ul>
<li><strong>Detection Logic:</strong> Use JavaScript’s <code>navigator.userAgent</code> or CSS media queries to identify the player’s platform.</li>
<li><strong>Option to Switch:</strong> Display a message like:
<ul>
<li>&quot;This map is optimized for mobile. Would you like to try the desktop version?&quot;</li>
<li>&quot;This map is optimized for desktop. Would you like to try the mobile version?&quot;</li>
</ul>
</li>
</ul>
<hr>
<h2><strong>Example Map Configuration</strong></h2>
<h3><strong>Mobile Map JSON (<code>map1_mobile.json</code>):</strong></h3>
<p>```json
{
&quot;mapId&quot;: &quot;map1_mobile&quot;,
&quot;name&quot;: &quot;Forest Ambush (Mobile)&quot;,
&quot;gridSize&quot;: [10, 10],
&quot;treasureLocation&quot;: { &quot;x&quot;: 7, &quot;y&quot;: 5 },
&quot;spawnPoints&quot;: [
{ &quot;id&quot;: &quot;north&quot;, &quot;x&quot;: 3, &quot;y&quot;: 0 }
],
&quot;paths&quot;: [
{
&quot;id&quot;: &quot;path1&quot;,
&quot;spawnId&quot;: &quot;north&quot;,
&quot;points&quot;: [
{ &quot;x&quot;: 3, &quot;y&quot;: 0 },
{ &quot;x&quot;: 3, &quot;y&quot;: 5 },
{ &quot;x&quot;: 7, &quot;y&quot;: 5 }
]
}
],
&quot;airborneZones&quot;: [
{ &quot;x1&quot;: 0, &quot;y1&quot;: 0, &quot;x2&quot;: 10, &quot;y2&quot;: 10 }
]
}
```</p>
<h3><strong>Desktop Map JSON (<code>map1_desktop.json</code>):</strong></h3>
<p>```json
{
&quot;mapId&quot;: &quot;map1_desktop&quot;,
&quot;name&quot;: &quot;Forest Ambush (Desktop)&quot;,
&quot;gridSize&quot;: [20, 20],
&quot;treasureLocation&quot;: { &quot;x&quot;: 15, &quot;y&quot;: 10 },
&quot;spawnPoints&quot;: [
{ &quot;id&quot;: &quot;north&quot;, &quot;x&quot;: 5, &quot;y&quot;: 0 },
{ &quot;id&quot;: &quot;east&quot;, &quot;x&quot;: 19, &quot;y&quot;: 10 }
],
&quot;paths&quot;: [
{
&quot;id&quot;: &quot;path1&quot;,
&quot;spawnId&quot;: &quot;north&quot;,
&quot;points&quot;: [
{ &quot;x&quot;: 5, &quot;y&quot;: 0 },
{ &quot;x&quot;: 5, &quot;y&quot;: 5 },
{ &quot;x&quot;: 10, &quot;y&quot;: 5 },
{ &quot;x&quot;: 15, &quot;y&quot;: 10 }
]
},
{
&quot;id&quot;: &quot;path2&quot;,
&quot;spawnId&quot;: &quot;east&quot;,
&quot;points&quot;: [
{ &quot;x&quot;: 19, &quot;y&quot;: 10 },
{ &quot;x&quot;: 15, &quot;y&quot;: 10 }
]
}
],
&quot;airborneZones&quot;: [
{ &quot;x1&quot;: 0, &quot;y1&quot;: 0, &quot;x2&quot;: 20, &quot;y2&quot;: 20 }
]
}
```</p>
<hr>
<h2><strong>User Experience</strong></h2>
<h3><strong>1. Platform Detection</strong></h3>
<ul>
<li>Automatically load the appropriate map version based on the detected platform.</li>
<li>Example:
<ul>
<li>Mobile: <code>map1_mobile.json</code></li>
<li>Desktop: <code>map1_desktop.json</code></li>
</ul>
</li>
</ul>
<h3><strong>2. Switch Option</strong></h3>
<ul>
<li>If the player switches versions, dynamically reload the game with the alternate map file.</li>
<li>Use a button in the UI to toggle maps (e.g., &quot;Switch to Desktop Map&quot;).</li>
</ul>
<h3><strong>3. Replay Value</strong></h3>
<ul>
<li>The desktop and mobile versions of maps will have distinct designs, offering different strategies.</li>
<li>Encourage players to try both versions for a new experience.</li>
</ul>
<hr>
<h2><strong>Game Design Impacts</strong></h2>
<h3><strong>1. Level Selector</strong></h3>
<ul>
<li>Show distinct icons for mobile and desktop versions of the same level.</li>
<li>Example:<pre><code>Level 1 (Mobile) - Completed 3 stars
Level 1 (Desktop) - Not Played
</code></pre>
</li>
</ul>
<h3><strong>2. Development Workflow</strong></h3>
<ul>
<li>For every map, create two JSON files:
<ul>
<li><code>mapX_mobile.json</code> for mobile.</li>
<li><code>mapX_desktop.json</code> for desktop.</li>
</ul>
</li>
</ul>
<h3><strong>3. Scoring and Progression</strong></h3>
<ul>
<li>Track stars separately for mobile and desktop versions of levels.</li>
<li>Allow independent unlocking (e.g., a player might unlock a new mobile level but still need to pass the desktop equivalent).</li>
</ul>
<hr>
<h2><strong>Technologies for Platform-Specific Features</strong></h2>
<h3><strong>1. Platform Detection</strong></h3>
<ul>
<li>Use JavaScript:
```javascript
const isMobile = /Mobi|Android/i.test(navigator.userAgent);
const mapFile = isMobile ? 'map1_mobile.json' : 'map1_desktop.json';
```</li>
<li>Or use CSS media queries for UI adjustments:
```css
@media (max-width: 768px) {
/* Mobile-specific styles */
}
```</li>
</ul>
<h3><strong>2. Dynamic Map Loading</strong></h3>
<ul>
<li>Load map JSON dynamically based on the detected platform or user choice:
```javascript
fetch(mapFile)
.then(response =&gt; response.json())
.then(mapData =&gt; initializeGame(mapData));
```</li>
</ul>
